{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/reporte.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction GraficoComparativoComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"h3\");\n    i0.ɵɵtext(2, \"Resumen General del Per\\u00EDodo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"div\", 17)(5, \"div\", 18);\n    i0.ɵɵtext(6, \"Total Presupuestado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 19);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 17)(11, \"div\", 18);\n    i0.ɵɵtext(12, \"Total Ejecutado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 20);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 17)(17, \"div\", 18);\n    i0.ɵɵtext(18, \"Diferencia\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 21);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 17)(23, \"div\", 18);\n    i0.ɵɵtext(24, \"% Ejecuci\\u00F3n Promedio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 21);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"number\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(9, 11, ctx_r0.calcularTotalPresupuestado(), \"1.2-2\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(15, 14, ctx_r0.calcularTotalEjecutado(), \"1.2-2\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"positivo\", ctx_r0.calcularDiferenciaTotal() >= 0)(\"negativo\", ctx_r0.calcularDiferenciaTotal() < 0);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.calcularDiferenciaTotal() >= 0 ? \"+\" : \"\", \"$\", i0.ɵɵpipeBind2(21, 17, ctx_r0.calcularDiferenciaTotal(), \"1.2-2\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleProp(\"color\", ctx_r0.getColorPorcentaje(ctx_r0.getPorcentajeEjecucionPromedio()));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(27, 20, ctx_r0.getPorcentajeEjecucionPromedio(), \"1.1-1\"), \"% \");\n  }\n}\nfunction GraficoComparativoComponent_div_21_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\", 30);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 31)(4, \"div\", 32)(5, \"div\", 33);\n    i0.ɵɵtext(6, \"Presupuestado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 34)(8, \"span\", 35);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 32)(12, \"div\", 33);\n    i0.ɵɵtext(13, \"Ejecutado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 36)(15, \"span\", 35);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(18, \"div\", 37);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const dato_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r2.tipoGasto);\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleProp(\"width\", ctx_r0.getBarWidth(dato_r2.montoPresupuestado, ctx_r0.getMaxMonto()), \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(10, 10, dato_r2.montoPresupuestado, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleProp(\"width\", ctx_r0.getBarWidth(dato_r2.montoEjecutado, ctx_r0.getMaxMonto()), \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(17, 13, dato_r2.montoEjecutado, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r0.getColorPorcentaje(dato_r2.porcentajeEjecucion));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", dato_r2.porcentajeEjecucion >= 999 ? \"\\u221E\" : i0.ɵɵpipeBind2(20, 16, dato_r2.porcentajeEjecucion, \"1.0-0\") + \"%\", \" \");\n  }\n}\nfunction GraficoComparativoComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"h3\");\n    i0.ɵɵtext(2, \"Gr\\u00E1fico Comparativo por Tipo de Gasto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 23);\n    i0.ɵɵtemplate(4, GraficoComparativoComponent_div_21_div_4_Template, 21, 19, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 25)(6, \"div\", 26);\n    i0.ɵɵelement(7, \"span\", 27);\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9, \"Presupuestado\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 26);\n    i0.ɵɵelement(11, \"span\", 28);\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13, \"Ejecutado\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.datos);\n  }\n}\nfunction GraficoComparativoComponent_div_22_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 39);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 39);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 39)(14, \"strong\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\")(18, \"span\", 42);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const dato_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(dato_r3.tipoGasto);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(6, 16, dato_r3.montoPresupuestado, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(9, 19, dato_r3.montoEjecutado, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"positivo\", dato_r3.diferencia >= 0)(\"negativo\", dato_r3.diferencia < 0);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", dato_r3.diferencia >= 0 ? \"+\" : \"\", \"$\", i0.ɵɵpipeBind2(12, 22, dato_r3.diferencia, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"color\", ctx_r0.getColorPorcentaje(dato_r3.porcentajeEjecucion));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", dato_r3.porcentajeEjecucion >= 999 ? \"\\u221E\" : i0.ɵɵpipeBind2(16, 25, dato_r3.porcentajeEjecucion, \"1.1-1\"), \"\", dato_r3.porcentajeEjecucion < 999 ? \"%\" : \"\", \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r0.getColorPorcentaje(dato_r3.porcentajeEjecucion));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", dato_r3.porcentajeEjecucion >= 999 ? \"\\u2717 Sin Presupuesto\" : dato_r3.porcentajeEjecucion <= 70 ? \"\\u2713 Bien\" : dato_r3.porcentajeEjecucion <= 90 ? \"\\u26A0 Cuidado\" : dato_r3.porcentajeEjecucion <= 100 ? \"\\u26A0 Alerta\" : \"\\u2717 Sobregiro\", \" \");\n  }\n}\nfunction GraficoComparativoComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"h3\");\n    i0.ɵɵtext(2, \"Detalle de Datos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Tipo de Gasto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 39);\n    i0.ɵɵtext(9, \"Presupuestado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 39);\n    i0.ɵɵtext(11, \"Ejecutado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 39);\n    i0.ɵɵtext(13, \"Diferencia\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 39);\n    i0.ɵɵtext(15, \"% Ejecuci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Estado\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, GraficoComparativoComponent_div_22_tr_19_Template, 20, 28, \"tr\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"tfoot\")(21, \"tr\", 41)(22, \"td\")(23, \"strong\");\n    i0.ɵɵtext(24, \"TOTALES\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"td\", 39)(26, \"strong\");\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"td\", 39)(30, \"strong\");\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"td\", 39)(34, \"strong\");\n    i0.ɵɵtext(35);\n    i0.ɵɵpipe(36, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"td\", 39)(38, \"strong\");\n    i0.ɵɵtext(39);\n    i0.ɵɵpipe(40, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(41, \"td\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.datos);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(28, 12, ctx_r0.calcularTotalPresupuestado(), \"1.2-2\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(32, 15, ctx_r0.calcularTotalEjecutado(), \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"positivo\", ctx_r0.calcularDiferenciaTotal() >= 0)(\"negativo\", ctx_r0.calcularDiferenciaTotal() < 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.calcularDiferenciaTotal() >= 0 ? \"+\" : \"\", \"$\", i0.ɵɵpipeBind2(36, 18, ctx_r0.calcularDiferenciaTotal(), \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"color\", ctx_r0.getColorPorcentaje(ctx_r0.getPorcentajeEjecucionPromedio()));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(40, 21, ctx_r0.getPorcentajeEjecucionPromedio(), \"1.1-1\"), \"%\");\n  }\n}\nfunction GraficoComparativoComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"div\", 44)(2, \"strong\");\n    i0.ɵɵtext(3, \"\\uD83D\\uDCCA An\\u00E1lisis de Presupuesto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Seleccione un rango de fechas y haga clic en \\\"Generar Gr\\u00E1fico\\\" para ver el comparativo entre lo presupuestado y lo ejecutado.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\", 45)(7, \"li\");\n    i0.ɵɵtext(8, \"\\uD83D\\uDCCA Visualice gr\\u00E1fico de barras comparativo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"li\");\n    i0.ɵɵtext(10, \"\\uD83D\\uDCC8 Vea porcentajes de ejecuci\\u00F3n por tipo de gasto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\");\n    i0.ɵɵtext(12, \"\\uD83C\\uDFAF Identifique sobregiros con c\\u00F3digo de colores\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"li\");\n    i0.ɵɵtext(14, \"\\uD83D\\uDCC4 Exporte o imprima el reporte\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction GraficoComparativoComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"h4\");\n    i0.ɵɵtext(2, \"Indicadores de Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 47)(4, \"div\", 48);\n    i0.ɵɵelement(5, \"span\", 49);\n    i0.ɵɵtext(6, \" 0-70%: Excelente control\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 48);\n    i0.ɵɵelement(8, \"span\", 50);\n    i0.ɵɵtext(9, \" 71-90%: Revisar gastos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 48);\n    i0.ɵɵelement(11, \"span\", 51);\n    i0.ɵɵtext(12, \" 91-100%: Alerta - Cerca del l\\u00EDmite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 48);\n    i0.ɵɵelement(14, \"span\", 52);\n    i0.ɵɵtext(15, \" >100%: Sobregiro - Ajustar presupuesto\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let GraficoComparativoComponent = /*#__PURE__*/(() => {\n  class GraficoComparativoComponent {\n    constructor(reporteService) {\n      this.reporteService = reporteService;\n      this.fechaInicio = '';\n      this.fechaFin = '';\n      this.datos = [];\n      this.cargando = false;\n      this.consultado = false;\n      // Configuración del gráfico (simulación básica sin Chart.js para evitar dependencias)\n      this.mostrarGrafico = false;\n    }\n    ngOnInit() {\n      // Configurar fechas por defecto: primer día del mes actual hasta hoy\n      const hoy = new Date();\n      const primerDia = new Date(hoy.getFullYear(), hoy.getMonth(), 1);\n      this.fechaInicio = this.formatDate(primerDia);\n      this.fechaFin = this.formatDate(hoy);\n    }\n    formatDate(date) {\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    }\n    generarGrafico() {\n      if (!this.fechaInicio || !this.fechaFin) {\n        alert('Debe seleccionar ambas fechas');\n        return;\n      }\n      if (new Date(this.fechaFin) < new Date(this.fechaInicio)) {\n        alert('La fecha fin debe ser mayor o igual a la fecha inicio');\n        return;\n      }\n      this.cargando = true;\n      this.reporteService.getComparativoPresupuesto(this.fechaInicio, this.fechaFin).subscribe({\n        next: data => {\n          this.datos = data;\n          this.consultado = true;\n          this.mostrarGrafico = true;\n          this.cargando = false;\n        },\n        error: error => {\n          console.error('Error al generar gráfico:', error);\n          alert('Error al generar gráfico comparativo');\n          this.cargando = false;\n        }\n      });\n    }\n    limpiarGrafico() {\n      const hoy = new Date();\n      const primerDia = new Date(hoy.getFullYear(), hoy.getMonth(), 1);\n      this.fechaInicio = this.formatDate(primerDia);\n      this.fechaFin = this.formatDate(hoy);\n      this.datos = [];\n      this.consultado = false;\n      this.mostrarGrafico = false;\n    }\n    calcularTotalPresupuestado() {\n      return this.datos.reduce((sum, d) => sum + d.montoPresupuestado, 0);\n    }\n    calcularTotalEjecutado() {\n      return this.datos.reduce((sum, d) => sum + d.montoEjecutado, 0);\n    }\n    calcularDiferenciaTotal() {\n      return this.calcularTotalPresupuestado() - this.calcularTotalEjecutado();\n    }\n    getPorcentajeEjecucionPromedio() {\n      if (this.datos.length === 0) return 0;\n      const suma = this.datos.reduce((sum, d) => sum + d.porcentajeEjecucion, 0);\n      return suma / this.datos.length;\n    }\n    getBarWidth(monto, maxMonto) {\n      if (maxMonto === 0) return 0;\n      return monto / maxMonto * 100;\n    }\n    getMaxMonto() {\n      let max = 0;\n      this.datos.forEach(d => {\n        if (d.montoPresupuestado > max) max = d.montoPresupuestado;\n        if (d.montoEjecutado > max) max = d.montoEjecutado;\n      });\n      return max;\n    }\n    getColorPorcentaje(porcentaje) {\n      if (porcentaje <= 70) return '#27ae60'; // Verde - Bien\n      if (porcentaje <= 90) return '#f39c12'; // Naranja - Cuidado\n      if (porcentaje <= 100) return '#e67e22'; // Naranja oscuro - Alerta\n      return '#e74c3c'; // Rojo - Sobregiro\n    }\n    exportarPDF() {\n      alert('Función de exportar a PDF disponible con librerías adicionales como jsPDF.\\n\\nPor ahora, puede usar la función de impresión del navegador (Ctrl+P) para guardar como PDF.');\n      window.print();\n    }\n    static {\n      this.ɵfac = function GraficoComparativoComponent_Factory(t) {\n        return new (t || GraficoComparativoComponent)(i0.ɵɵdirectiveInject(i1.ReporteService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: GraficoComparativoComponent,\n        selectors: [[\"app-grafico-comparativo\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 25,\n        vars: 11,\n        consts: [[1, \"card\"], [1, \"filtros-grafico\"], [1, \"form-row\"], [1, \"form-group\"], [\"type\", \"date\", \"name\", \"fechaInicio\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"date\", \"name\", \"fechaFin\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"botones-grafico\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-secondary\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-success\", 3, \"click\", \"disabled\"], [\"class\", \"resumen-general\", 4, \"ngIf\"], [\"class\", \"grafico-container\", 4, \"ngIf\"], [\"class\", \"tabla-datos\", 4, \"ngIf\"], [\"class\", \"mensaje-inicial\", 4, \"ngIf\"], [\"class\", \"indicadores-color\", 4, \"ngIf\"], [1, \"resumen-general\"], [1, \"resumen-cards\"], [1, \"resumen-card\"], [1, \"card-label\"], [1, \"card-valor\", \"presupuestado\"], [1, \"card-valor\", \"ejecutado\"], [1, \"card-valor\"], [1, \"grafico-container\"], [1, \"grafico-barras\"], [\"class\", \"grafico-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"leyenda\"], [1, \"leyenda-item\"], [1, \"leyenda-color\", \"presupuestado\"], [1, \"leyenda-color\", \"ejecutado\"], [1, \"grafico-item\"], [1, \"tipo-gasto-label\"], [1, \"barras-container\"], [1, \"barra-wrapper\"], [1, \"barra-label\"], [1, \"barra\", \"presupuestado\"], [1, \"barra-valor\"], [1, \"barra\", \"ejecutado\"], [1, \"porcentaje-badge\"], [1, \"tabla-datos\"], [1, \"text-right\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fila-total\"], [1, \"estado-badge\"], [1, \"mensaje-inicial\"], [1, \"alert\", \"alert-info\", \"text-center\"], [1, \"lista-funciones\"], [1, \"indicadores-color\"], [1, \"indicadores-lista\"], [1, \"indicador\"], [1, \"color\", 2, \"background-color\", \"#27ae60\"], [1, \"color\", 2, \"background-color\", \"#f39c12\"], [1, \"color\", 2, \"background-color\", \"#e67e22\"], [1, \"color\", 2, \"background-color\", \"#e74c3c\"]],\n        template: function GraficoComparativoComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Gr\\u00E1fico Comparativo: Presupuesto vs Ejecuci\\u00F3n\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"label\");\n            i0.ɵɵtext(7, \"Fecha Inicio *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"input\", 4);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function GraficoComparativoComponent_Template_input_ngModelChange_8_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.fechaInicio, $event) || (ctx.fechaInicio = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\");\n            i0.ɵɵtext(11, \"Fecha Fin *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"input\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function GraficoComparativoComponent_Template_input_ngModelChange_12_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.fechaFin, $event) || (ctx.fechaFin = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(13, \"div\", 6)(14, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function GraficoComparativoComponent_Template_button_click_14_listener() {\n              return ctx.generarGrafico();\n            });\n            i0.ɵɵtext(15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"button\", 8);\n            i0.ɵɵlistener(\"click\", function GraficoComparativoComponent_Template_button_click_16_listener() {\n              return ctx.limpiarGrafico();\n            });\n            i0.ɵɵtext(17, \" Limpiar \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"button\", 9);\n            i0.ɵɵlistener(\"click\", function GraficoComparativoComponent_Template_button_click_18_listener() {\n              return ctx.exportarPDF();\n            });\n            i0.ɵɵtext(19, \" \\uD83D\\uDCC4 Imprimir / PDF \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(20, GraficoComparativoComponent_div_20_Template, 28, 23, \"div\", 10)(21, GraficoComparativoComponent_div_21_Template, 14, 1, \"div\", 11)(22, GraficoComparativoComponent_div_22_Template, 42, 24, \"div\", 12)(23, GraficoComparativoComponent_div_23_Template, 15, 0, \"div\", 13)(24, GraficoComparativoComponent_div_24_Template, 16, 0, \"div\", 14);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.fechaInicio);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.fechaFin);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.cargando);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.cargando ? \"Generando...\" : \"\\uD83D\\uDCCA Generar Gr\\u00E1fico\", \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", ctx.cargando);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", !ctx.consultado);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.consultado);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.mostrarGrafico);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.consultado);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.consultado);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.consultado);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DecimalPipe, FormsModule, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n        styles: [\"h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:20px}h2[_ngcontent-%COMP%]{font-size:28px;border-bottom:3px solid #3498db;padding-bottom:10px}h3[_ngcontent-%COMP%]{font-size:20px;color:#3498db;margin-top:30px}h4[_ngcontent-%COMP%]{font-size:16px;color:#2c3e50;margin-bottom:15px}.filtros-grafico[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:8px;margin-bottom:30px;border-left:4px solid #3498db}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#2c3e50}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;font-size:14px}.botones-grafico[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.resumen-general[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px;background-color:#ecf0f1;border-radius:8px}.resumen-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px}.resumen-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;text-align:center;border-left:4px solid #95a5a6}.card-label[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px}.card-valor[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#2c3e50}.card-valor.presupuestado[_ngcontent-%COMP%]{color:#3498db}.card-valor.ejecutado[_ngcontent-%COMP%]{color:#9b59b6}.card-valor.positivo[_ngcontent-%COMP%]{color:#27ae60}.card-valor.negativo[_ngcontent-%COMP%]{color:#e74c3c}.grafico-container[_ngcontent-%COMP%]{margin:30px 0;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.grafico-barras[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:25px;margin-top:20px}.grafico-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:180px 1fr 80px;gap:15px;align-items:center}.tipo-gasto-label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:14px;text-align:right;padding-right:10px}.barras-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.barra-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.barra-label[_ngcontent-%COMP%]{font-size:11px;color:#7f8c8d;min-width:90px;text-align:right}.barra[_ngcontent-%COMP%]{height:30px;border-radius:4px;display:flex;align-items:center;justify-content:flex-end;padding-right:10px;color:#fff;font-weight:600;font-size:12px;transition:width .5s ease;min-width:60px;box-shadow:0 2px 4px #0003}.barra.presupuestado[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9)}.barra.ejecutado[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b59b6,#8e44ad)}.barra-valor[_ngcontent-%COMP%]{white-space:nowrap}.porcentaje-badge[_ngcontent-%COMP%]{font-weight:700;color:#fff;padding:8px 12px;border-radius:6px;text-align:center;font-size:14px;box-shadow:0 2px 4px #0003}.leyenda[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:30px;margin-top:25px;padding:15px;background-color:#f8f9fa;border-radius:6px}.leyenda-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#2c3e50}.leyenda-color[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:3px}.leyenda-color.presupuestado[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9)}.leyenda-color.ejecutado[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b59b6,#8e44ad)}.tabla-datos[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px #0000001a}thead[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}th[_ngcontent-%COMP%]{padding:12px;text-align:left;font-weight:600}td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #dee2e6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.fila-total[_ngcontent-%COMP%]{background-color:#ecf0f1;font-weight:700;border-top:3px solid #3498db}.estado-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:600;color:#fff}.indicadores-color[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background-color:#f8f9fa;border-radius:8px;border-left:4px solid #3498db}.indicadores-lista[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;margin-top:15px}.indicador[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:13px;color:#2c3e50}.indicador[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:4px;box-shadow:0 2px 4px #0003}.mensaje-inicial[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}.lista-funciones[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:15px}.lista-funciones[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0;font-size:14px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2980b9}.btn-success[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#229954}.btn-secondary[_ngcontent-%COMP%]{background-color:#95a5a6;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#7f8c8d}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:15px 20px;border-radius:4px;margin-bottom:20px}.alert-info[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.positivo[_ngcontent-%COMP%]{color:#27ae60}.negativo[_ngcontent-%COMP%]{color:#e74c3c}@media (max-width: 1024px){.grafico-item[_ngcontent-%COMP%]{grid-template-columns:150px 1fr 70px}.tipo-gasto-label[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 768px){.resumen-cards[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.botones-grafico[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}.grafico-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.tipo-gasto-label[_ngcontent-%COMP%]{text-align:left;padding-right:0;margin-bottom:5px;font-size:14px}.barra-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}.barra-label[_ngcontent-%COMP%]{min-width:auto;text-align:left}.porcentaje-badge[_ngcontent-%COMP%]{width:100%}.leyenda[_ngcontent-%COMP%]{flex-direction:column;gap:10px}table[_ngcontent-%COMP%]{font-size:12px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 6px}.card-valor[_ngcontent-%COMP%]{font-size:20px}.indicadores-lista[_ngcontent-%COMP%]{grid-template-columns:1fr}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.grafico-container[_ngcontent-%COMP%], .resumen-general[_ngcontent-%COMP%], .tabla-datos[_ngcontent-%COMP%], .indicadores-color[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .4s ease}\"]\n      });\n    }\n  }\n  return GraficoComparativoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}