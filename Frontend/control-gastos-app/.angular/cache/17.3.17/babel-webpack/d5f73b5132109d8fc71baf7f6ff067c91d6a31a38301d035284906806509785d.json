{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/fondo-monetario.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction FondoMonetarioListComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function FondoMonetarioListComponent_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showCreateForm());\n    });\n    i0.ɵɵtext(1, \" Nuevo Fondo Monetario \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FondoMonetarioListComponent_div_5_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"label\");\n    i0.ɵɵtext(2, \"Saldo Inicial *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FondoMonetarioListComponent_div_5_div_20_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.formData.saldoActual, $event) || (ctx_r1.formData.saldoActual = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"small\", 21);\n    i0.ɵɵtext(5, \" Solo se puede configurar al crear. Luego se actualiza autom\\u00E1ticamente con dep\\u00F3sitos y gastos. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.formData.saldoActual);\n  }\n}\nfunction FondoMonetarioListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 8);\n    i0.ɵɵlistener(\"ngSubmit\", function FondoMonetarioListComponent_div_5_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSubmit());\n    });\n    i0.ɵɵelementStart(4, \"div\", 9)(5, \"label\");\n    i0.ɵɵtext(6, \"Nombre *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 10);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FondoMonetarioListComponent_div_5_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.formData.nombre, $event) || (ctx_r1.formData.nombre = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 9)(9, \"label\");\n    i0.ɵɵtext(10, \"Tipo de Fondo *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"select\", 11);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FondoMonetarioListComponent_div_5_Template_select_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.formData.tipoFondo, $event) || (ctx_r1.formData.tipoFondo = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(12, \"option\", 12);\n    i0.ɵɵtext(13, \"Cuenta Bancaria\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 13);\n    i0.ɵɵtext(15, \"Caja Menuda\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 9)(17, \"label\");\n    i0.ɵɵtext(18, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"textarea\", 14);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FondoMonetarioListComponent_div_5_Template_textarea_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.formData.descripcion, $event) || (ctx_r1.formData.descripcion = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(20, FondoMonetarioListComponent_div_5_div_20_Template, 6, 1, \"div\", 15);\n    i0.ɵɵelementStart(21, \"div\", 9)(22, \"label\")(23, \"input\", 16);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FondoMonetarioListComponent_div_5_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.formData.activo, $event) || (ctx_r1.formData.activo = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \" Activo \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 17)(26, \"button\", 18);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function FondoMonetarioListComponent_div_5_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cancelForm());\n    });\n    i0.ɵɵtext(29, \" Cancelar \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.isEditing ? \"Editar\" : \"Nuevo\", \" Fondo Monetario\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.formData.nombre);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.formData.tipoFondo);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.formData.descripcion);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isEditing);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.formData.activo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.formData.nombre || !ctx_r1.formData.tipoFondo);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isEditing ? \"Actualizar\" : \"Guardar\", \" \");\n  }\n}\nfunction FondoMonetarioListComponent_table_6_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 23)(9, \"strong\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\")(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function FondoMonetarioListComponent_table_6_tr_16_Template_button_click_16_listener() {\n      const fondo_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.showEditForm(fondo_r6));\n    });\n    i0.ɵɵtext(17, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function FondoMonetarioListComponent_table_6_tr_16_Template_button_click_18_listener() {\n      const fondo_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.deleteFondoMonetario(fondo_r6.fondoMonetarioId));\n    });\n    i0.ɵɵtext(19, \" Eliminar \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const fondo_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fondo_r6.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(fondo_r6.tipoFondo === \"Cuenta Bancaria\" ? \"badge-banco\" : \"badge-caja\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", fondo_r6.tipoFondo, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fondo_r6.descripcion || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"color\", fondo_r6.saldoActual >= 0 ? \"green\" : \"red\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" $\", i0.ɵɵpipeBind2(11, 11, fondo_r6.saldoActual, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"color\", fondo_r6.activo ? \"green\" : \"red\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", fondo_r6.activo ? \"Activo\" : \"Inactivo\", \" \");\n  }\n}\nfunction FondoMonetarioListComponent_table_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Tipo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Saldo Actual\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, FondoMonetarioListComponent_table_6_tr_16_Template, 20, 14, \"tr\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.fondosMonetarios);\n  }\n}\nfunction FondoMonetarioListComponent_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 26);\n    i0.ɵɵtext(1, \" No hay fondos monetarios registrados \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let FondoMonetarioListComponent = /*#__PURE__*/(() => {\n  class FondoMonetarioListComponent {\n    constructor(fondoMonetarioService) {\n      this.fondoMonetarioService = fondoMonetarioService;\n      this.fondosMonetarios = [];\n      this.showForm = false;\n      this.isEditing = false;\n      this.editingId = null;\n      this.formData = {\n        nombre: '',\n        tipoFondo: 'Cuenta Bancaria',\n        descripcion: '',\n        saldoActual: 0,\n        activo: true\n      };\n    }\n    ngOnInit() {\n      this.loadFondosMonetarios();\n    }\n    loadFondosMonetarios() {\n      this.fondoMonetarioService.getAll().subscribe({\n        next: data => {\n          this.fondosMonetarios = data;\n        },\n        error: error => {\n          console.error('Error al cargar fondos monetarios:', error);\n          alert('Error al cargar fondos monetarios');\n        }\n      });\n    }\n    showCreateForm() {\n      this.isEditing = false;\n      this.editingId = null;\n      this.formData = {\n        nombre: '',\n        tipoFondo: 'Cuenta Bancaria',\n        descripcion: '',\n        saldoActual: 0,\n        activo: true\n      };\n      this.showForm = true;\n    }\n    showEditForm(fondo) {\n      this.isEditing = true;\n      this.editingId = fondo.fondoMonetarioId;\n      this.formData = {\n        nombre: fondo.nombre,\n        tipoFondo: fondo.tipoFondo,\n        descripcion: fondo.descripcion || '',\n        saldoActual: fondo.saldoActual,\n        activo: fondo.activo\n      };\n      this.showForm = true;\n    }\n    onSubmit() {\n      if (this.isEditing && this.editingId) {\n        const updateData = {\n          nombre: this.formData.nombre,\n          tipoFondo: this.formData.tipoFondo,\n          descripcion: this.formData.descripcion,\n          activo: this.formData.activo\n        };\n        this.fondoMonetarioService.update(this.editingId, updateData).subscribe({\n          next: () => {\n            alert('Fondo monetario actualizado exitosamente');\n            this.cancelForm();\n            this.loadFondosMonetarios();\n          },\n          error: error => {\n            console.error('Error al actualizar:', error);\n            alert('Error al actualizar fondo monetario');\n          }\n        });\n      } else {\n        this.fondoMonetarioService.create(this.formData).subscribe({\n          next: () => {\n            alert('Fondo monetario creado exitosamente');\n            this.cancelForm();\n            this.loadFondosMonetarios();\n          },\n          error: error => {\n            console.error('Error al crear:', error);\n            alert('Error al crear fondo monetario');\n          }\n        });\n      }\n    }\n    cancelForm() {\n      this.showForm = false;\n      this.formData = {\n        nombre: '',\n        tipoFondo: 'Cuenta Bancaria',\n        descripcion: '',\n        saldoActual: 0,\n        activo: true\n      };\n      this.isEditing = false;\n      this.editingId = null;\n    }\n    deleteFondoMonetario(id) {\n      if (confirm('¿Está seguro de eliminar este fondo monetario?')) {\n        this.fondoMonetarioService.delete(id).subscribe({\n          next: () => {\n            alert('Fondo monetario eliminado exitosamente');\n            this.loadFondosMonetarios();\n          },\n          error: error => {\n            console.error('Error al eliminar:', error);\n            alert('Error al eliminar fondo monetario');\n          }\n        });\n      }\n    }\n    static {\n      this.ɵfac = function FondoMonetarioListComponent_Factory(t) {\n        return new (t || FondoMonetarioListComponent)(i0.ɵɵdirectiveInject(i1.FondoMonetarioService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: FondoMonetarioListComponent,\n        selectors: [[\"app-fondo-monetario-list\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 8,\n        vars: 4,\n        consts: [[1, \"card\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-3\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"card mb-3\", \"style\", \"background-color: #f8f9fa;\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"card\", \"mb-3\", 2, \"background-color\", \"#f8f9fa\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"nombre\", \"placeholder\", \"Ej: Cuenta Corriente BCP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"tipoFondo\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"Cuenta Bancaria\"], [\"value\", \"Caja Menuda\"], [\"name\", \"descripcion\", \"rows\", \"2\", \"placeholder\", \"Descripci\\u00F3n opcional del fondo\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"form-group\", 4, \"ngIf\"], [\"type\", \"checkbox\", \"name\", \"activo\", 3, \"ngModelChange\", \"ngModel\"], [1, \"d-flex\", 2, \"gap\", \"10px\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"number\", \"name\", \"saldoActual\", \"min\", \"0\", \"step\", \"0.01\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-text\", \"text-muted\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-right\"], [1, \"btn\", \"btn-primary\", 2, \"margin-right\", \"5px\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"text-center\"]],\n        template: function FondoMonetarioListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n            i0.ɵɵtext(3, \"Fondos Monetarios\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(4, FondoMonetarioListComponent_button_4_Template, 2, 0, \"button\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(5, FondoMonetarioListComponent_div_5_Template, 30, 8, \"div\", 3)(6, FondoMonetarioListComponent_table_6_Template, 17, 1, \"table\", 4)(7, FondoMonetarioListComponent_p_7_Template, 2, 0, \"p\", 5);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", !ctx.showForm);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showForm);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.fondosMonetarios.length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.fondosMonetarios.length === 0);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DecimalPipe, FormsModule, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinValidator, i3.NgModel, i3.NgForm],\n        styles: [\"h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:20px}.card[_ngcontent-%COMP%]{margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;margin-top:20px}button[_ngcontent-%COMP%]{font-size:14px}.text-right[_ngcontent-%COMP%]{text-align:right}.badge-banco[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px}.badge-caja[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px}.form-text[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#6c757d;font-size:12px}\"]\n      });\n    }\n  }\n  return FondoMonetarioListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}